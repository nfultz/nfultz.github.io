<!DOCTYPE html>
<html><head>
  <meta name="generator" content="njnmdoc, see http://github.com/njnmco/njnmdoc" />
  <meta charset="UTF-8"><title>Mutt Email Client</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js" integrity="sha384-9Nhn55MVVN0/4OFx7EE5kpFBPsEMZxKTCnA+4fqDmg12eCTqGi6+BB2LjY8brQxJ" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
    onload="renderMathInElement(document.body);"></script><link rel='stylesheet' type='text/css' href='https://unpkg.com/sakura.css/css/sakura.css' /></head><body><header><h1>Mutt Email Client</h1>
</header>
<article><!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<p>mutt is a no-frills email client for the terminal.</p>
<p>The default build assumes you are using a MTA / MDA (traditional UNIX setup). To build with IMAP / POP / SMTP support,
use:</p>
<pre><code>./configure --enable-imap --enable-smtp --with-ssl
</code></pre>
<h2>Using with MS Exchange</h2>
<p>One solution is to set up DavMail, which will proxy Exchange. It works but it's slow.</p>
<pre><code>#Assumming davmail is running locally
mailboxes imap://nfultz@localhost:49156/
set smtp_url = smtp://nfultz@localhost:49153
set from = nfultz@Mega.corp
</code></pre>
<!-- raw HTML omitted -->
<p>Gmail is easy enough to set up since it supports IMAP.</p>
<p>However, be careful when you google for mutt config tips, a lot of info is out of date.</p>
<p>Since 2014, google has been
<a href="http://googleonlinesecurity.blogspot.co.uk/2014/04/new-security-measures-will-affect-older.html">ramping up security</a>,
which includes disabling password logins via IMAP and POP.</p>
<p>If you are an admin, you can reenable password logins on the <a href="https://myaccount.google.com/lesssecureapps">less secure apps settings</a>.</p>
<p>The recommended approach is to create a &quot;secure app&quot; which authenticates using OAuth2. This is a bit involved:</p>
<ol>
<li>Create a new project on the <a href="https://console.developers.google.com/">Google Developer Console</a></li>
<li>Create a &quot;OAuth 2.0 Client ID&quot;</li>
</ol>
<p>Then you need to get the actual token:</p>
<ol>
<li>copy <code>src/contrib/mutt_oauth2.py</code>
<ul>
<li>edit encrypt / decrypt pipeline</li>
<li>edit client id and secret (from google developer console)</li>
<li>chmod +x</li>
</ul>
</li>
<li><code>mutt_oauth2.py .cache/mutt_token --verbose --authorize</code></li>
<li><code>mutt_oauth2.py .cache/mutt_token --verbose --test</code></li>
</ol>
<p>Finally, update your <code>.muttrc</code> to use the new features:</p>
<pre><code>set imap_authenticators=&quot;oauthbearer:xoauth2&quot;
set imap_oauth_refresh_command=&quot;mutt_oauth2.py ~/.cache/mutt_token&quot;
set smtp_authenticators=${imap_authenticators}
set smtp_oauth_refresh_command=${imap_oauth_refresh_command}
</code></pre>
</article>
<footer>Page generated by <a href="https://github.com/njnmco/njnmdoc" target="blank">njnmdoc</a>.
Last updated on&nbsp;2020-11-28.</footer>
</body>
</html>